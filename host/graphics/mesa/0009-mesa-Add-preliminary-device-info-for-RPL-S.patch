From 93117dc2e4fdc6e66479cb35a7b4c653ff031c7d Mon Sep 17 00:00:00 2001
From: "Mazlan, Hazwan Arif" <hazwan.arif.mazlan@intel.com>
Date: Mon, 18 Oct 2021 02:31:37 +0800
Subject: [PATCH 09/11] mesa: Add preliminary device info for RPL-S

Signed-off-by: Sodhi, Vunny <vunny.sodhi@intel.com
Signed-off-by: Mazlan, Hazwan Arif <hazwan.arif.mazlan@intel.com>
---
 include/pci_ids/iris_pci_ids.h    |  9 +++++++++
 src/intel/dev/intel_device_info.c | 11 +++++++++++
 src/intel/dev/intel_device_info.h |  1 +
 3 files changed, 21 insertions(+)

diff --git a/include/pci_ids/iris_pci_ids.h b/include/pci_ids/iris_pci_ids.h
index 1e8c433b4913..62f51a6f8d21 100644
--- a/include/pci_ids/iris_pci_ids.h
+++ b/include/pci_ids/iris_pci_ids.h
@@ -17,6 +17,15 @@ CHIPSET(0x4693, adl_gt05, "ADL-S GT0.5", "Intel(R) Graphics")
 CHIPSET(0x4698, adl_gt1, "ADL-S GT1", "Intel(R) Graphics")
 CHIPSET(0x4699, adl_gt1, "ADL-S GT1", "Intel(R) Graphics")
 
+CHIPSET(0xA780, rpl_gt1, "RPL-S GT1", "Intel(R) Graphics")
+CHIPSET(0xA781, rpl_gt1, "RPL-S GT1", "Intel(R) Graphics")
+CHIPSET(0xA782, rpl_gt1, "RPL-S GT1", "Intel(R) Graphics")
+CHIPSET(0xA783, rpl_gt1, "RPL-S GT1", "Intel(R) Graphics")
+CHIPSET(0xA788, rpl_gt1, "RPL-S GT1", "Intel(R) Graphics")
+CHIPSET(0xA789, rpl_gt1, "RPL-S GT1", "Intel(R) Graphics")
+CHIPSET(0xA78A, rpl_gt1, "RPL-S GT1", "Intel(R) Graphics")
+CHIPSET(0xA78B, rpl_gt1, "RPL-S GT1", "Intel(R) Graphics")
+
 CHIPSET(0x4626, adl_gt2, "ADL GT2", "Intel(R) Graphics")
 CHIPSET(0x4628, adl_gt2, "ADL GT2", "Intel(R) Graphics")
 CHIPSET(0x462a, adl_gt2, "ADL GT2", "Intel(R) Graphics")
diff --git a/src/intel/dev/intel_device_info.c b/src/intel/dev/intel_device_info.c
index b988606ad923..f109536cfe05 100644
--- a/src/intel/dev/intel_device_info.c
+++ b/src/intel/dev/intel_device_info.c
@@ -65,6 +65,7 @@ static const struct {
    { "rkl", 0x4c8a },
    { "dg1", 0x4905 },
    { "adl", 0x4680 },
+   { "rpl", 0xa780 },
 };
 
 /**
@@ -995,6 +996,16 @@ static const struct intel_device_info intel_device_info_adl_gt2 = {
    .display_ver = 13,
 };
 
+static const struct intel_device_info intel_device_info_rpl_gt05 = {
+   GFX12_GT05_FEATURES,
+   .is_rapterlake = true,
+};
+
+static const struct intel_device_info intel_device_info_rpl_gt1 = {
+   GFX12_GT_FEATURES(1),
+   .is_rapterlake = true,
+};
+
 #define GFX12_DG1_FEATURES                      \
    GFX12_GT_FEATURES(2),                        \
    .is_dg1 = true,                              \
diff --git a/src/intel/dev/intel_device_info.h b/src/intel/dev/intel_device_info.h
index daa5b19d9136..5469abb5736b 100644
--- a/src/intel/dev/intel_device_info.h
+++ b/src/intel/dev/intel_device_info.h
@@ -70,6 +70,7 @@ struct intel_device_info
    bool is_rocketlake;
    bool is_dg1;
    bool is_alderlake;
+   bool is_rapterlake;
 
    bool has_hiz_and_separate_stencil;
    bool must_use_separate_stencil;
-- 
2.34.1

