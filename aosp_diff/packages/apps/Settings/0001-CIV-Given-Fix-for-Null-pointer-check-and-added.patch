From 45180ebefe8ad55ca39d100c259b08ee14dc94ef Mon Sep 17 00:00:00 2001
From: rramakax <rohitx.kant@intel.com>
Date: Tue, 18 Aug 2020 11:57:45 +0530
Subject: [PATCH] [CIV] Given Fix for Null pointer check and added
 default argument to getboolian method

Change-Id: Ie48cf065a1881c176d89ff571e9180d997af333d
Tracked-On: OAM-92325
Signed-off-by: rramakax <rohitx.kant@intel.com>
---
 .../settings/applications/manageapplications/ManageApplications.java  | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/src/com/android/settings/applications/manageapplications/ManageApplications.java b/src/com/android/settings/applications/manageapplications/ManageApplications.java
index 971c6f5..d547a42 100644
--- a/src/com/android/settings/applications/manageapplications/ManageApplications.java
+++ b/src/com/android/settings/applications/manageapplications/ManageApplications.java
@@ -318,7 +318,7 @@ public class ManageApplications extends InstrumentedFragment
             mShowSystem = savedInstanceState.getBoolean(EXTRA_SHOW_SYSTEM, mShowSystem);
             mFilterType =
                     savedInstanceState.getInt(EXTRA_FILTER_TYPE, AppFilterRegistry.FILTER_APPS_ALL);
-            mExpandSearch = savedInstanceState.getBoolean(EXTRA_EXPAND_SEARCH_VIEW);
+            mExpandSearch = savedInstanceState.getBoolean(EXTRA_EXPAND_SEARCH_VIEW, false);
         }

         mInvalidSizeStr = activity.getText(R.string.invalid_size_value);
@@ -508,7 +508,9 @@ public class ManageApplications extends InstrumentedFragment
         outState.putBoolean(EXTRA_SHOW_SYSTEM, mShowSystem);
         outState.putBoolean(EXTRA_HAS_ENTRIES, mApplications.mHasReceivedLoadEntries);
         outState.putBoolean(EXTRA_HAS_BRIDGE, mApplications.mHasReceivedBridgeCallback);
+        if (mSearchView != null) {
         outState.putBoolean(EXTRA_EXPAND_SEARCH_VIEW, !mSearchView.isIconified());
+        }
         outState.putInt(EXTRA_FILTER_TYPE, mFilter.getFilterType());
         if (mApplications != null) {
             mApplications.onSaveInstanceState(outState);
-- 
1.9.1

